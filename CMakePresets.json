{
  "version": 6,
  "include": [
  ],
  "configurePresets": [
    {
      "name": "intel-vs2022",
      "generator": "Ninja",
      "inherits": "fortran-conda-shared",
      "hidden": false,
      "vendor": {
        "jetbrains.com/clion": {
          "toolchain": "Visual Studio (intel)"
        }
      },
      "environment": {
        "TEST": "$env{FC}"
      }
    },
    {
      "name": "fortran-conda-shared",
      "hidden": true,
      "cacheVariables": {
        "CMAKE_BUILD_TYPE": "Release",
        "HDF5_BUILD_FORTRAN": "ON",
        "HDF5_BUILD_CPP_LIB": "ON",
        "BUILD_SHARED_LIBS": "ON",
        "BUILD_STATIC_LIBS": "OFF",
        "ONLY_SHARED_LIBS": "ON",
        "BUILD_TESTING": "ON",
        "HDF5_ENABLE_THREADSAFE": "OFF",
        "ALLOW_UNSUPPORTED": "ON",
        "HDF5_BUILD_DOC": "OFF"
      }
    },
    {
      "name": "fortran-conda-gcc-gfortran",
      "generator": "Ninja",
      "inherits": "fortran-conda-shared",
      "hidden": false,
      "environment": {
        "PREFIX": "C:/work/mambaforge/envs/gnuc",
        "PATH": "$env{PREFIX}/Library/mingw-w64/bin;$env{PREFIX}/Library/bin"
      },
      "cacheVariables": {
        "CMAKE_C_COMPILER": "$env{PREFIX}/Library/mingw-w64/bin/gcc.exe",
        "CMAKE_CXX_COMPILER": "$env{PREFIX}/Library/mingw-w64/bin/g++.exe",
        "CMAKE_Fortran_COMPILER": "$env{PREFIX}/Library/mingw-w64/bin/gfortran.exe",
        "CMAKE_Fortran_FLAGS": "-fdefault-integer-8",
        "CMAKE_RC_COMPILER": "$env{PREFIX}/Library/mingw-w64/bin/windres.exe",
        "CMAKE_CXX_FLAGS": "-nostartfiles $env{CMAKE_CXX_FLAGS} -Dsocklen_t=int",
        "CMAKE_C_FLAGS": "-nostartfiles $env{CMAKE_C_FLAGS} -Dsocklen_t=int",
        "CMAKE_WINDOWS_EXPORT_ALL_SYMBOLS": "ON"
      }
    },
    {
      "name": "mingw-clion",
      "description": "Using downloaded variants https://github.com/niXman/mingw-builds-binaries/releases",
      "generator": "Ninja",
      "inherits": "fortran-conda-shared",
      "hidden": false,
      "environment": {
        "PREFIX": "C:/compilers/mingw64",
        "PATH": "$env{PREFIX}/bin;$env{PREFIX};C:\\Users\\Kristoffer\\AppData\\Local\\Programs\\CLion\\bin\\ninja\\win\\x64"
      },
      "cacheVariables": {
        "CMAKE_C_COMPILER": "$env{PREFIX}/bin/gcc.exe",
        "CMAKE_CXX_COMPILER": "$env{PREFIX}/bin/g++.exe",
        "CMAKE_Fortran_COMPILER": "$env{PREFIX}/bin/gfortran.exe"
      }
    },
    {
      "name": "ci-StdShar-MSVC-Fortran",
      "description": "MSVC Standard Config for x64 (Release)",
      "vendor": {
        "jetbrains.com/clion": {
          "toolchain": "Visual Studio (intel)"
        }
      },
      "environment": {
        "PREFIX": "C:/work/mambaforge/envs/libmed-base"
      },
      "architecture": {
        "value": "x64",
        "strategy": "external"
      },
      "cacheVariables": {
        "PATH": "$env{PREFIX}/Library/bin;$env{PATH}",
        "CMAKE_C_COMPILER": "cl",
        "CMAKE_CXX_COMPILER": "cl",
        "CMAKE_Fortran_COMPILER": "ifx",
        "HDF5_BUILD_FORTRAN": "ON"
      },
      "toolset": {
        "value": "host=x64",
        "strategy": "external"
      },
      "condition": {
        "type": "equals",
        "lhs": "${hostSystemName}",
        "rhs": "Windows"
      }
    },
    {
      "name": "fortran-conda-flang",
      "generator": "Ninja",
      "inherits": "fortran-conda-shared",
      "hidden": false,
      "environment": {
        "PREFIX": "C:/work/mambaforge/envs/cflang",
        "PATH": "$env{PREFIX}/Library/bin"
      },
      "cmakeExecutable": "$env{PREFIX}/Library/bin/cmake.exe",
      "cacheVariables": {
        "CMAKE_LINKER": "$env{PREFIX}/Library/bin/lld-link.exe",
        "CMAKE_C_COMPILER_ID": "Clang",
        "CMAKE_COMPILER_VENDOR": "clang",
        "CMAKE_CXX_COMPILER_ID": "Clang",
        "CMAKE_Fortran_COMPILER_ID": "LLVMFlang",
        "CMAKE_EXPORT_COMPILE_COMMANDS": "YES",
        "CMAKE_C_COMPILER": "$env{PREFIX}/Library/bin/clang-cl.exe",
        "CMAKE_CXX_COMPILER": "$env{PREFIX}/Library/bin/clang-cl.exe",
        "CMAKE_Fortran_COMPILER": "$env{PREFIX}/Library/bin/flang-new.exe",
        "CMAKE_CXX_FLAGS": "-Doff64_t=off_t $env{CMAKE_CXX_FLAGS}",
        "CMAKE_C_FLAGS": "-Doff64_t=off_t $env{CMAKE_C_FLAGS}"
      }
    },
    {
      "name": "fortran-msvc-flang",
      "generator": "Ninja Multi-Config",
      "inherits": "fortran-conda-shared",
      "hidden": false,
      "environment": {
        "PREFIX": "C:/work/mambaforge/envs/msvcflang",
        "LDFLAGS": "-fuse-ld=lld-link"
      },
      "cacheVariables": {
        "CMAKE_EXPORT_COMPILE_COMMANDS": "YES",
        "CMAKE_LINKER": "$env{PREFIX}/Library/bin/lld-link.exe",
        "CMAKE_EXE_LINKER_FLAGS": "-fuse-ld=lld-link",
        "CMAKE_C_FLAGS": "TRUE",
        "CMAKE_CXX_FLAGS": "TRUE",
        "CMAKE_C_COMPILER": "cl.exe",
        "CMAKE_CXX_COMPILER": "cl.exe",
        "PATH": "$env{PREFIX}/Library/bin",
        "CMAKE_Fortran_FLAGS": "-fdefault-integer-8",
        "CMAKE_Fortran_COMPILER": "$env{PREFIX}/Library/bin/flang-new.exe"
      },
      "vendor": {
        "jetbrains.com/clion": {
          "toolchain": "Visual Studio"
        }
      }
    }
  ]
}